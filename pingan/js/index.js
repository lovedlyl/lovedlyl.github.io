$(function(){var e=($("form"),$("#cardType")),a=$("#cardNum"),n=($("#cardPwd"),$("#phoneNum")),i=($("#vcode"),$("#name")),o=$("#vCardType"),t=$("#vCardNum"),r=$("#gender"),l=$("#dateOfBirth"),d=[e,a,n,i,o,t,r,l],c=[];$.each(d,function(e,a){0!=a.length&&c.push(a)}),$(".select .icon, .select ul").modal({space:20,mock:"input[type=submit]"}),function(){var a=-1!==$.inArray(e,c),i=-1!==$.inArray(n,c),t=-1!==$.inArray(o,c),d=$(".warning"),v=$("input"),u=function(a){a.preventDefault();var n,i=$(this),t=i.attr("id"),c=function(e){s(r,1&e.gender),l.val(e.dob)};switch(t){case"phoneNum":n=i.validate("phoneNo");break;case"vcode":n=i.validate("vCode");break;case"cardNum":0==e.children("li.on").index()&&(n=i.validate("bankNo")),1==e.children("li.on").index()&&(n=i.validate("bankNo"));break;case"cardPwd":0==e.children("li.on").index()&&(n=i.validate("bankPwd")),1==e.children("li.on").index()&&(n=i.validate("bankPwd"));break;case"name":n=i.validate("cnName");break;case"vCardNum":n=0==o.children("li.on").index()?i.validate("idNo"):i.validate("No");break;case"dateOfBirth":n=i.validate("dob")}n.fail?(d.text(n.fail),i.addClass("invalid")):(i.removeClass("invalid"),d.text(""),"vCardNum"==t&&0==o.children("li.on").index()&&c(n.success))};if(v.on("input",u),a){console.log("account.html")}if(i&&console.log("phone.html"),t){console.log("validate.html")}}();var s=function(e,a){e.children("li").removeClass("on").eq(a).addClass("on")},v=function(){sessionStorage&&$.each(c,function(e,a){var n=a[0].tagName.toLowerCase(),i=a.selector.slice(1);if("input"==n){var o=sessionStorage[i];o&&a.val(o)}if("ul"==n){var t=sessionStorage[i];void 0!==t&&s(a,t)}})};v();var u=function(){sessionStorage&&$.each(c,function(e,a){var n=a[0].tagName.toLowerCase(),i=a.selector.slice(1);if("input"==n){var o=a.val();sessionStorage[i]=o}if("ul"==n){var t=a.find("li.on").index();console.log(t),sessionStorage[i]=t}})};!function(){var e=function(e){u(),history.go(-1)};$(".header .icon-circle").on("tap",e)}()});