!function(t,e){function n(t){return t.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function i(t){return o?o+t:t.toLowerCase()}var o,a,r,s,l,u,c,p,f,d,m="",h={Webkit:"webkit",Moz:"",O:"o"},g=document.createElement("div"),y=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,w={};t.each(h,function(t,n){return g.style[t+"TransitionProperty"]!==e?(m="-"+t.toLowerCase()+"-",o=n,!1):void 0}),a=m+"transform",w[r=m+"transition-property"]=w[s=m+"transition-duration"]=w[u=m+"transition-delay"]=w[l=m+"transition-timing-function"]=w[c=m+"animation-name"]=w[p=m+"animation-duration"]=w[d=m+"animation-delay"]=w[f=m+"animation-timing-function"]="",t.fx={off:o===e&&g.style.transitionProperty===e,speeds:{_default:400,fast:200,slow:600},cssPrefix:m,transitionEnd:i("TransitionEnd"),animationEnd:i("AnimationEnd")},t.fn.animate=function(n,i,o,a,r){return t.isFunction(i)&&(a=i,o=e,i=e),t.isFunction(o)&&(a=o,o=e),t.isPlainObject(i)&&(o=i.easing,a=i.complete,r=i.delay,i=i.duration),i&&(i=("number"==typeof i?i:t.fx.speeds[i]||t.fx.speeds._default)/1e3),r&&(r=parseFloat(r)/1e3),this.anim(n,i,o,a,r)},t.fn.anim=function(i,o,m,h,g){var T,v,b,x={},M="",C=this,E=t.fx.transitionEnd,P=!1;if(o===e&&(o=t.fx.speeds._default/1e3),g===e&&(g=0),t.fx.off&&(o=0),"string"==typeof i)x[c]=i,x[p]=o+"s",x[d]=g+"s",x[f]=m||"linear",E=t.fx.animationEnd;else{v=[];for(T in i)y.test(T)?M+=T+"("+i[T]+") ":(x[T]=i[T],v.push(n(T)));M&&(x[a]=M,v.push(a)),o>0&&"object"==typeof i&&(x[r]=v.join(", "),x[s]=o+"s",x[u]=g+"s",x[l]=m||"linear")}return b=function(e){if("undefined"!=typeof e){if(e.target!==e.currentTarget)return;t(e.target).unbind(E,b)}else t(this).unbind(E,b);P=!0,t(this).css(w),h&&h.call(this)},o>0&&(this.bind(E,b),setTimeout(function(){P||b.call(C)},1e3*(o+g)+25)),this.size()&&this.get(0).clientLeft,this.css(x),0>=o&&setTimeout(function(){C.each(function(){b.call(this)})},0),this},g=null}(Zepto),$(function(){!function(){var t=$(".select .icon"),e=$(".choose"),n=$(".modal"),i=n.css("top"),o=$("input[type=submit]").height(),a=$(".modal .icon-circle"),r=$(".modal .finished"),s=function(t){var n=$(this).siblings("ul"),i=n.attr("id"),o=1;e.empty().attr({p:"#"+i,i:o}),n.children("li").clone().removeClass("on").appendTo(e).eq(o).addClass("on"),c()},l=function(t){var n=e.children("li"),i=e.attr("i");i--,0>=i&&(i=0),e.attr("i",i),n.removeClass("on").eq(i).addClass("on")},u=function(t){var n=e.children("li"),i=e.attr("i");i++,i>=n.length-1&&(i=n.length-1),e.attr("i",i),n.removeClass("on").eq(i).addClass("on")},c=function(){n.animate({top:-o+"px"},200,"ease")},p=function(){n.animate({top:i},200,"ease-out")},f=function(t){var n=$(e.attr("p")),i=e.attr("i");n.children("li").removeClass("on").eq(i).addClass("on"),console.log(n),p()};t.on("tap",s),n.on("swipeUp",l),n.on("swipeDown",u),a.on("tap",p),r.on("tap",f)}()}),function(t){function e(t,e,n,i){return Math.abs(t-e)>=Math.abs(n-i)?t-e>0?"Left":"Right":n-i>0?"Up":"Down"}function n(){c=null,f.last&&(f.el.trigger("longTap"),f={})}function i(){c&&clearTimeout(c),c=null}function o(){s&&clearTimeout(s),l&&clearTimeout(l),u&&clearTimeout(u),c&&clearTimeout(c),s=l=u=c=null,f={}}function a(t){return("touch"==t.pointerType||t.pointerType==t.MSPOINTER_TYPE_TOUCH)&&t.isPrimary}function r(t,e){return t.type=="pointer"+e||t.type.toLowerCase()=="mspointer"+e}var s,l,u,c,p,f={},d=750;t(document).ready(function(){var m,h,g,y,w=0,T=0;"MSGesture"in window&&(p=new MSGesture,p.target=document.body),t(document).bind("MSGestureEnd",function(t){var e=t.velocityX>1?"Right":t.velocityX<-1?"Left":t.velocityY>1?"Down":t.velocityY<-1?"Up":null;e&&(f.el.trigger("swipe"),f.el.trigger("swipe"+e))}).on("touchstart MSPointerDown pointerdown",function(e){(y=r(e,"down"))&&!a(e)||(g=y?e:e.touches[0],e.touches&&1===e.touches.length&&f.x2&&(f.x2=void 0,f.y2=void 0),m=Date.now(),h=m-(f.last||m),f.el=t("tagName"in g.target?g.target:g.target.parentNode),s&&clearTimeout(s),f.x1=g.pageX,f.y1=g.pageY,h>0&&250>=h&&(f.isDoubleTap=!0),f.last=m,c=setTimeout(n,d),p&&y&&p.addPointer(e.pointerId))}).on("touchmove MSPointerMove pointermove",function(t){(y=r(t,"move"))&&!a(t)||(g=y?t:t.touches[0],i(),f.x2=g.pageX,f.y2=g.pageY,w+=Math.abs(f.x1-f.x2),T+=Math.abs(f.y1-f.y2))}).on("touchend MSPointerUp pointerup",function(n){(y=r(n,"up"))&&!a(n)||(i(),f.x2&&Math.abs(f.x1-f.x2)>30||f.y2&&Math.abs(f.y1-f.y2)>30?u=setTimeout(function(){f.el.trigger("swipe"),f.el.trigger("swipe"+e(f.x1,f.x2,f.y1,f.y2)),f={}},0):"last"in f&&(30>w&&30>T?l=setTimeout(function(){var e=t.Event("tap");e.cancelTouch=o,f.el.trigger(e),f.isDoubleTap?(f.el&&f.el.trigger("doubleTap"),f={}):s=setTimeout(function(){s=null,f.el&&f.el.trigger("singleTap"),f={}},250)},0):f={}),w=T=0)}).on("touchcancel MSPointerCancel pointercancel",o),t(window).on("scroll",o)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(e){t.fn[e]=function(t){return this.on(e,t)}})}(Zepto);