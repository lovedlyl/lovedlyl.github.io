jQuery.fn.slider=function(e){function s(e){var s="+="+-e*i;d.animate({left:s},"slow",function(){var e=parseFloat(d.css("left"));e==-i*(l-1)&&d.css("left",-i),0==e&&d.css("left",-i*(l-2))})}function t(){r==l-1&&(r=1),0==r&&(r=l-2),c.eq(r-1).addClass("on").siblings().removeClass("on")}if(this.length<=1)return this;e=e||{};var i=e.width,n=e.height,l=this.length+2;i&&n||console.error("没有提供滑块的宽度或高度"),html={outer:'<div class="slide"><div class="slide-list"></div></div>',prev:"<span class='slide-prev'>prev</span>",next:"<span class='slide-next'>next</span>",btns:"<ul class='slide-btns'>"};for(var a=0;a<this.length;a++)html.btns+="<li>"+a+"1</li>";html.btns+="</ul>",this.wrapAll(html.outer).addClass("slide-item");var d=this.parent(),o=d.parent(),r=1,h={slide:{height:n,overflow:"hidden",position:"relative",width:i},slideList:{width:i,height:n,position:"absolute",left:-i,top:0},slideItem:{width:i,position:"absolute",top:0},jumpTop:{top:n/2-12}};this.eq(0).clone(!0).appendTo(d),this.eq(-1).clone(!0).prependTo(d),o.append(html.prev+html.next+html.btns).css(h.slide),d.css(h.slideList).find(".slide-item").css(h.slideItem).each(function(e,s){$(s).css("left",e*i)});var c=o.find(".slide-btns > li"),p=o.find(".slide-prev"),f=o.find(".slide-next");return p.add(f).css(h.jumpTop),t(),p.click(function(e){d.is(":animated")||(e.preventDefault(),r-=1,t(),s(-1))}),f.click(function(e){d.is(":animated")||(e.preventDefault(),r+=1,t(),s(1))}),p.add(f).mouseenter(function(e){$(this).addClass("on")}).mouseleave(function(e){$(this).removeClass("on")}),c.click(function(e){if(!d.is(":animated")){e.preventDefault();var i=$(this).index(),n=i+1-r;r+=n,t(),s(n)}}),this};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpxdWVyeS5zbGlkZXIuanMiXSwibmFtZXMiOlsialF1ZXJ5IiwiZm4iLCJzbGlkZXIiLCJvcHRpb25zIiwiZ28iLCJzdGVwIiwib2Zmc2V0Iiwid2lkdGgiLCJzbGlkZUxpc3QiLCJhbmltYXRlIiwibGVmdCIsIm5ld0xlZnQiLCJwYXJzZUZsb2F0IiwiY3NzIiwiaXRlbXNOdW0iLCJzaG93QnV0dG9uIiwiY3VycmVudEluZGV4IiwiYnRucyIsImVxIiwiYWRkQ2xhc3MiLCJzaWJsaW5ncyIsInJlbW92ZUNsYXNzIiwidGhpcyIsImxlbmd0aCIsImhlaWdodCIsImNvbnNvbGUiLCJlcnJvciIsImh0bWwiLCJvdXRlciIsInByZXYiLCJuZXh0IiwiaSIsIndyYXBBbGwiLCJwYXJlbnQiLCJzbGlkZSIsInN0eWxlcyIsIm92ZXJmbG93IiwicG9zaXRpb24iLCJ0b3AiLCJzbGlkZUl0ZW0iLCJqdW1wVG9wIiwiY2xvbmUiLCJhcHBlbmRUbyIsInByZXBlbmRUbyIsImFwcGVuZCIsImZpbmQiLCJlYWNoIiwiaW5kZXgiLCJlbCIsIiQiLCJhZGQiLCJjbGljayIsImV2ZW50IiwiaXMiLCJwcmV2ZW50RGVmYXVsdCIsIm1vdXNlZW50ZXIiLCJtb3VzZWxlYXZlIl0sIm1hcHBpbmdzIjoiQUFpQkFBLE9BQU9DLEdBQUdDLE9BQVMsU0FBU0MsR0FpRnhCLFFBQVNDLEdBQUdDLEdBQ1IsR0FBSUMsR0FBUyxNQUFTRCxFQUFPRSxDQUU3QkMsR0FBVUMsU0FBVUMsS0FBTUosR0FBVSxPQUFRLFdBSXhDLEdBQUlLLEdBQVVDLFdBQVdKLEVBQVVLLElBQUksUUFDbkNGLEtBQVlKLEdBQVNPLEVBQVcsSUFDaENOLEVBQVVLLElBQUksUUFBU04sR0FHWixHQUFYSSxHQUNBSCxFQUFVSyxJQUFJLFFBQVNOLEdBQVNPLEVBQVcsTUFPdkQsUUFBU0MsS0FFREMsR0FBZ0JGLEVBQVcsSUFDM0JFLEVBQWUsR0FHQyxHQUFoQkEsSUFDQUEsRUFBZUYsRUFBVyxHQUU5QkcsRUFBS0MsR0FBR0YsRUFBZSxHQUFHRyxTQUFTLE1BQU1DLFdBQVdDLFlBQVksTUE1R3BFLEdBQUlDLEtBQUtDLFFBQVUsRUFDZixNQUFPRCxLQUNYbkIsR0FBVUEsS0FFVixJQUFJSSxHQUFRSixFQUFRSSxNQUNoQmlCLEVBQVNyQixFQUFRcUIsT0FDakJWLEVBQVdRLEtBQUtDLE9BQVMsQ0FPekJoQixJQUFVaUIsR0FDVkMsUUFBUUMsTUFBTSxnQkFHbEJDLE1BQ0lDLE1BQU8sMERBQ1BDLEtBQU0sdUNBQ05DLEtBQU0sdUNBQ05iLEtBQU0sMEJBSVYsS0FBSyxHQUFJYyxHQUFJLEVBQUdBLEVBQUlULEtBQUtDLE9BQVFRLElBQzdCSixLQUFLVixNQUFTLE9BQVNjLEVBQUksUUFFL0JKLE1BQUtWLE1BQVEsUUFFYkssS0FBS1UsUUFBUUwsS0FBS0MsT0FBT1QsU0FBUyxhQUNsQyxJQUFJWCxHQUFZYyxLQUFLVyxTQUNqQkMsRUFBUTFCLEVBQVV5QixTQUVsQmpCLEVBQWUsRUFFZm1CLEdBQ0lELE9BRUlWLE9BQVFBLEVBQ1JZLFNBQVUsU0FDVkMsU0FBVSxXQUNWOUIsTUFBT0EsR0FFWEMsV0FDSUQsTUFBT0EsRUFDUGlCLE9BQVFBLEVBQ1JhLFNBQVUsV0FDVjNCLE1BQU9ILEVBQ1ArQixJQUFLLEdBRVRDLFdBQ0loQyxNQUFPQSxFQUNQOEIsU0FBVSxXQUNWQyxJQUFLLEdBRVRFLFNBQ0lGLElBQUtkLEVBQU8sRUFBSSxJQUc1QkYsTUFBS0osR0FBRyxHQUFHdUIsT0FBTSxHQUFNQyxTQUFTbEMsR0FDaENjLEtBQUtKLEdBQUcsSUFBSXVCLE9BQU0sR0FBTUUsVUFBVW5DLEdBRWxDMEIsRUFBTVUsT0FBT2pCLEtBQUtFLEtBQU9GLEtBQUtHLEtBQU9ILEtBQUtWLE1BQU1KLElBQUlzQixFQUFPRCxPQUMzRDFCLEVBQVVLLElBQUlzQixFQUFPM0IsV0FDaEJxQyxLQUFLLGVBQ0xoQyxJQUFJc0IsRUFBT0ksV0FDWE8sS0FBSyxTQUFTQyxFQUFPQyxHQUNsQkMsRUFBRUQsR0FBSW5DLElBQUksT0FBUWtDLEVBQVF4QyxJQUdsQyxJQUFJVSxHQUFPaUIsRUFBTVcsS0FBSyxvQkFDbEJoQixFQUFPSyxFQUFNVyxLQUFLLGVBQ2xCZixFQUFPSSxFQUFNVyxLQUFLLGNBK0V0QixPQTdFQWhCLEdBQUtxQixJQUFJcEIsR0FBTWpCLElBQUlzQixFQUFPSyxTQW1DMUJ6QixJQUdBYyxFQUFLc0IsTUFBTSxTQUFTQyxHQUNaNUMsRUFBVTZDLEdBQUcsZUFFakJELEVBQU1FLGlCQUNOdEMsR0FBZ0IsRUFDaEJELElBQ0FYLEVBQUcsT0FFUDBCLEVBQUtxQixNQUFNLFNBQVNDLEdBQ1o1QyxFQUFVNkMsR0FBRyxlQUVqQkQsRUFBTUUsaUJBQ050QyxHQUFnQixFQUNoQkQsSUFDQVgsRUFBRyxNQUdQeUIsRUFBS3FCLElBQUlwQixHQUNKeUIsV0FBVyxTQUFTSCxHQUNqQkgsRUFBRTNCLE1BQU1ILFNBQVMsUUFFcEJxQyxXQUFXLFNBQVNKLEdBQ2pCSCxFQUFFM0IsTUFBTUQsWUFBWSxRQUk1QkosRUFBS2tDLE1BQU0sU0FBU0MsR0FDaEIsSUFBSTVDLEVBQVU2QyxHQUFHLGFBQWpCLENBRUFELEVBQU1FLGdCQUVOLElBQUl2QixHQUFJa0IsRUFBRTNCLE1BQU15QixRQUNaMUMsRUFBUTBCLEVBQUksRUFBS2YsQ0FDckJBLElBQWdCWCxFQUNoQlUsSUFDQVgsRUFBR0MsTUFJQWlCIiwiZmlsZSI6ImpxdWVyeS5zbGlkZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyAvLyDmsLTlubPml6DnvJ3mu5rliqjmj5Lku7Zcbi8vIOWOn+eQhjpcbi8vICAgICDlsIbpnIDopoHmu5rliqjnmoTlhYPntKDlhYvpmobmnIDliY3mnIDlkI7kuKTkuKpcbi8vICAgICDlpJbljIXoo7nkuKTlsYIsLnNsaWRlIC5zbGlkZS1saXN0XG4vLyAgICAgLnNsaWRlOuebuOWvueWumuS9jVxuLy8gICAgIC5zbGlkZS1saXN057ud5a+55a6a5L2NLHRvcCAwLCBsZWZ0IC3mu5rliqjlhYPntKDlrr3luqZcbi8vICAgICDpnIDopoHmu5rliqjnmoTlhYPntKDnu53lr7nlrprkvY3liLAuc2xpZGUtbGlzdCzmsLTlubPmjpLliJflnKjlhbbkuK1cbi8vICAgICDpgJrov4fliqjnlLvmlLnlj5guc2xpZGUtbGlzdOeahGxlZnTlgLzlrp7njrDml6DnvJ3mu5rliqhcbi8vICAgICAuc2xpZGUsc2xpZGUtbGlzdOeahOagt+W8j+mAmui/h2pz5Yid5aeL5YyW5pe26K6+572u5a6M5oiQLCDmoLflvI/ooajorr7nva4uc2xpZGUtcHJldiAuc2xpZGUtbmV4dCAuc2xpZGUtYnRucyDnmoTmoLflvI9cbi8vICAgICDmiYDpnIDmu5rliqjlhYPntKDkuKrmlbDlpKfkuo4x5Liq5pe25omN5a6e546wXG4vL2J1Zzog5LiN6IO96Ieq5Yqo6I635Y+W6ZyA6KaB5rua5Yqo5YWD57Sg55qE6auY5bqmLOmcgOimgeaJi+WKqOiuvue9rm9wdGlvbnNcbi8vIOWPguaVsDogb3B0aW9uc1t3aWR0aCwgaGVpZ2h0LCBidG5IZWlnaHRdXG4vLyB3aWR0aDog6ZyA6KaB5rua5Yqo5YWD57Sg55qE5a695bqmXG4vLyBoZWlnaHQ6IOmcgOimgea7muWKqOWFg+e0oOeahOmrmOW6plxuLy8gYnRuc0hlaWdodDog5Li65pS+572u5LiL5pa55oyJ6ZKu5omA6ZyA6KaB55qE6auY5bqmXG4vLyDor7TmmI466ZyA6KaB5omL5Yqo6K6+572u6auY5bqm5ZKM5a695bqmXG5cbmpRdWVyeS5mbi5zbGlkZXIgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgLy8g5aaC5p6c5YWD57Sg5LiN6LazMuS4quS4jei/m+ihjOatpOaTjeS9nFxuICAgIGlmICh0aGlzLmxlbmd0aCA8PSAxKVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAvLyDov5jkvJrlhYvpmobpppbkvY3kuKTkuKrljp/lrZAs5omA5LulKzJcbiAgICB2YXIgd2lkdGggPSBvcHRpb25zLndpZHRoLFxuICAgICAgICBoZWlnaHQgPSBvcHRpb25zLmhlaWdodCxcbiAgICAgICAgaXRlbXNOdW0gPSB0aGlzLmxlbmd0aCArIDI7XG5cbiAgICAvLyB2YXIgX29sZERpc3BsYXkgPSB0aGlzLmNzcyhcImRpc3BsYXlcIik7XG4gICAgLy8gaGVpZ2h0ID0gdGhpcy5jc3MoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIikub3V0ZXJIZWlnaHQodHJ1ZSk7XG4gICAgLy8gd2lkdGggPSB0aGlzLmNzcyhcImRpc3BsYXlcIiwgXCJibG9ja1wiKS5vdXRlcldpZHRoKHRydWUpXG4gICAgLy8gdGhpcy5jc3MoXCJkaXNwbGF5XCIsIF9vbGREaXNwbGF5KTtcbiAgICAvLyDlpoLmnpzmsqHmnInmj5Dkvpvpq5jluqblkozlrr3luqbmiqXplJlcbiAgICBpZighd2lkdGggfHwgIWhlaWdodCl7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCLmsqHmnInmj5Dkvpvmu5HlnZfnmoTlrr3luqbmiJbpq5jluqZcIilcbiAgICB9XG4gICAgLy8g5aKe5re755qEaHRtbFxuICAgIGh0bWwgPSB7XG4gICAgICAgIG91dGVyOiAnPGRpdiBjbGFzcz1cInNsaWRlXCI+PGRpdiBjbGFzcz1cInNsaWRlLWxpc3RcIj48L2Rpdj48L2Rpdj4nLFxuICAgICAgICBwcmV2OiBcIjxzcGFuIGNsYXNzPSdzbGlkZS1wcmV2Jz5wcmV2PC9zcGFuPlwiLFxuICAgICAgICBuZXh0OiBcIjxzcGFuIGNsYXNzPSdzbGlkZS1uZXh0Jz5uZXh0PC9zcGFuPlwiLFxuICAgICAgICBidG5zOiBcIjx1bCBjbGFzcz0nc2xpZGUtYnRucyc+XCJcbiAgICB9O1xuXG4gICAgLy8g5Yid5aeL5YyWYnRuIGh0bWxcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaHRtbC5idG5zICs9IChcIjxsaT5cIiArIGkgKyAxICsgXCI8L2xpPlwiKTtcbiAgICB9XG4gICAgaHRtbC5idG5zICs9IFwiPC91bD5cIjtcbiAgICAvLyDlsIblhYvpmobnmoTkuKTkuKrlhYPntKDliqDkuIrljrtcbiAgICB0aGlzLndyYXBBbGwoaHRtbC5vdXRlcikuYWRkQ2xhc3MoXCJzbGlkZS1pdGVtXCIpO1xuICAgIHZhciBzbGlkZUxpc3QgPSB0aGlzLnBhcmVudCgpLFxuICAgICAgICBzbGlkZSA9IHNsaWRlTGlzdC5wYXJlbnQoKSxcbiAgICAgICAgLy8g5b2T5YmN5Y+v6KeBaXRlbeeahOe0ouW8lVxuICAgICAgICBjdXJyZW50SW5kZXggPSAxLFxuICAgICAgICAvLyAuc2xpZGXlkowuc2xpZGUtbGlzdOeahOagt+W8j1xuICAgICAgICBzdHlsZXMgPSB7XG4gICAgICAgICAgICBzbGlkZToge1xuICAgICAgICAgICAgICAgIC8vIGJvcmRlcjogXCIxcHggc29saWQgYmxhY2tcIixcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgICAgICBvdmVyZmxvdzogXCJoaWRkZW5cIixcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJyZWxhdGl2ZVwiLFxuICAgICAgICAgICAgICAgIHdpZHRoOiB3aWR0aFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNsaWRlTGlzdDoge1xuICAgICAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICAgICAgICAgICAgICAgIGxlZnQ6IC13aWR0aCxcbiAgICAgICAgICAgICAgICB0b3A6IDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzbGlkZUl0ZW06IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgICAgICAgICAgICAgICB0b3A6IDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBqdW1wVG9wOiB7XG4gICAgICAgICAgICAgICAgdG9wOiBoZWlnaHQvMiAtIDEyXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgdGhpcy5lcSgwKS5jbG9uZSh0cnVlKS5hcHBlbmRUbyhzbGlkZUxpc3QpO1xuICAgIHRoaXMuZXEoLTEpLmNsb25lKHRydWUpLnByZXBlbmRUbyhzbGlkZUxpc3QpO1xuICAgIC8vIOiuvue9ri5zbGlkZSwgLnNsaWRlLWxpc3QsIHNsaWRlLWNoaWxk55qE5qC35byPXG4gICAgc2xpZGUuYXBwZW5kKGh0bWwucHJldiArIGh0bWwubmV4dCArIGh0bWwuYnRucykuY3NzKHN0eWxlcy5zbGlkZSk7XG4gICAgc2xpZGVMaXN0LmNzcyhzdHlsZXMuc2xpZGVMaXN0KVxuICAgICAgICAuZmluZChcIi5zbGlkZS1pdGVtXCIpXG4gICAgICAgIC5jc3Moc3R5bGVzLnNsaWRlSXRlbSlcbiAgICAgICAgLmVhY2goZnVuY3Rpb24oaW5kZXgsIGVsKSB7XG4gICAgICAgICAgICAkKGVsKS5jc3MoXCJsZWZ0XCIsIGluZGV4ICogd2lkdGgpXG4gICAgICAgIH0pO1xuXG4gICAgdmFyIGJ0bnMgPSBzbGlkZS5maW5kKFwiLnNsaWRlLWJ0bnMgPiBsaVwiKSxcbiAgICAgICAgcHJldiA9IHNsaWRlLmZpbmQoXCIuc2xpZGUtcHJldlwiKSxcbiAgICAgICAgbmV4dCA9IHNsaWRlLmZpbmQoXCIuc2xpZGUtbmV4dFwiKTtcbiAgICAvLyDorr7nva7nv7vpobXmjInpkq7nmoTnm7jlr7npq5jluqZcbiAgICBwcmV2LmFkZChuZXh0KS5jc3Moc3R5bGVzLmp1bXBUb3ApO1xuICAgIC8vIOWIneWni+WMluWujOaIkC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8vIOaguOW/g+WHveaVsCznp7vliqjlhYPntKAsc3RlcOS4uuenu+WKqOeahOagvOaVsCzmraPmlbDkuLrlkJHlj7Pnp7vliqgs6LSf5pWw5Li65ZCR5bem56e75YqoXG4gICAgZnVuY3Rpb24gZ28oc3RlcCkge1xuICAgICAgICB2YXIgb2Zmc2V0ID0gXCIrPVwiICsgKC1zdGVwICogd2lkdGgpO1xuXG4gICAgICAgIHNsaWRlTGlzdC5hbmltYXRlKHsgbGVmdDogb2Zmc2V0IH0sIFwic2xvd1wiLCBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgLy8g5ruR5Yqo5Yiw5pyA5YmN5ZKM5pyA5ZCO5pe2LOaUueWPmOWFg+e0oOS9jee9rizmrLrpqpfop4bop4lcbiAgICAgICAgICAgIC8vIOacgOWQjuaXtlxuICAgICAgICAgICAgdmFyIG5ld0xlZnQgPSBwYXJzZUZsb2F0KHNsaWRlTGlzdC5jc3MoXCJsZWZ0XCIpKTtcbiAgICAgICAgICAgIGlmIChuZXdMZWZ0ID09IC13aWR0aCAqIChpdGVtc051bSAtIDEpKSB7XG4gICAgICAgICAgICAgICAgc2xpZGVMaXN0LmNzcyhcImxlZnRcIiwgLXdpZHRoKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8g5pyA5YmN5pe2XG4gICAgICAgICAgICBpZiAobmV3TGVmdCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgc2xpZGVMaXN0LmNzcyhcImxlZnRcIiwgLXdpZHRoICogKGl0ZW1zTnVtIC0gMikpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgfVxuXG4gICAgLy8g5pS55Y+Y5oyJ6ZKu5qC35byPLOeUsWN1cnJlbnRJbmRleOWGs+WumlxuICAgIGZ1bmN0aW9uIHNob3dCdXR0b24oKSB7XG4gICAgICAgIC8vIOacgOWQjuaXtlxuICAgICAgICBpZiAoY3VycmVudEluZGV4ID09IGl0ZW1zTnVtIC0gMSkge1xuICAgICAgICAgICAgY3VycmVudEluZGV4ID0gMVxuICAgICAgICB9XG4gICAgICAgIC8vIOacgOWJjeaXtlxuICAgICAgICBpZiAoY3VycmVudEluZGV4ID09IDApIHtcbiAgICAgICAgICAgIGN1cnJlbnRJbmRleCA9IGl0ZW1zTnVtIC0gMjtcbiAgICAgICAgfVxuICAgICAgICBidG5zLmVxKGN1cnJlbnRJbmRleCAtIDEpLmFkZENsYXNzKCdvbicpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ29uJyk7XG4gICAgfVxuICAgIHNob3dCdXR0b24oKTtcblxuICAgIC8vIOe/u+mhteeCueWHu+aXtueahOS6i+S7tlxuICAgIHByZXYuY2xpY2soZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgaWYgKHNsaWRlTGlzdC5pcyhcIjphbmltYXRlZFwiKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY3VycmVudEluZGV4IC09IDE7XG4gICAgICAgIHNob3dCdXR0b24oKTtcbiAgICAgICAgZ28oLTEpO1xuICAgIH0pO1xuICAgIG5leHQuY2xpY2soZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgaWYgKHNsaWRlTGlzdC5pcyhcIjphbmltYXRlZFwiKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY3VycmVudEluZGV4ICs9IDE7XG4gICAgICAgIHNob3dCdXR0b24oKTtcbiAgICAgICAgZ28oMSk7XG4gICAgfSk7XG5cbiAgICBwcmV2LmFkZChuZXh0KVxuICAgICAgICAubW91c2VlbnRlcihmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcyhcIm9uXCIpXG4gICAgICAgIH0pXG4gICAgICAgIC5tb3VzZWxlYXZlKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdvbicpXG4gICAgICAgIH0pO1xuXG4gICAgLy8g54K55Ye75oyJ6ZKu5pe26Ze05pe25ruR5Yqo5LqL5Lu2XG4gICAgYnRucy5jbGljayhmdW5jdGlvbihldmVudCkge1xuICAgICAgICBpZiAoc2xpZGVMaXN0LmlzKFwiOmFuaW1hdGVkXCIpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAvLyDooqvngrnlh7vnmoTmjInpkq7miYDlnKjnmoTntKLlvJVcbiAgICAgICAgdmFyIGkgPSAkKHRoaXMpLmluZGV4KCk7XG4gICAgICAgIHZhciBzdGVwID0gKGkgKyAxKSAtIGN1cnJlbnRJbmRleDtcbiAgICAgICAgY3VycmVudEluZGV4ICs9IHN0ZXA7XG4gICAgICAgIHNob3dCdXR0b24oKTtcbiAgICAgICAgZ28oc3RlcCk7XG4gICAgfSk7XG5cblxuICAgIHJldHVybiB0aGlzO1xufVxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
