$(function(){!function(){$(".busy").flash({src:"images/12001020.swf",width:52,height:52,update:!1,expressInstall:!1})}(),function(){function s(s){var o=document.createElement("div");o.innerHTML=s,$(o).find(".content").appendTo(".menu .body");var n=i.find(".content");a.tabshow(n),i.hover(function(){e.show()},function(){e.slideUp(),n.removeClass("current"),a.removeClass("on")})}var o=$(".menu"),n=o.find(".head"),i=o.find(".body"),e=$(".menu .body > ul"),a=e.find("li");n.one("mouseover",function(o){$.ajax({url:"category.html",dataType:"html"}).done(s)}),n.hover(function(){e.show()},function(){e.hide()})}(),$("dl.outer").slice(0,-2).hover(function(){$(this).addClass("on").siblings("div").addClass("current");var s=$(".book-menu .body"),o=$(this),n=o.siblings("div"),i=o.position().top,e=o.outerHeight(!0),a=n.outerHeight(!0),t=$(window).scrollTop()-s.offset().top,l=t-i,d=e+i-a;t>0&&(d-=t);var r=-1;t>0&&(r=t-1,l>0&&(r-=l)),d>0&&(r+=d+1),n.css("top",r)},function(){$(this).removeClass("on").siblings("div").removeClass("current")}),$("dl.outer+div").hover(function(){$(this).addClass("current").siblings("dl.outer").addClass("on")},function(){$(this).removeClass("current").siblings("dl.outer").removeClass("on")}),function(){var s=($(".area"),$(".area .head")),o=s.find("span"),n=$(".area .body"),i=n.find("a");s.hover(function(){s.addClass("on"),n.addClass("on")},function(){s.removeClass("on"),n.removeClass("on")}),n.hover(function(){$(this).addClass("on")},function(){$(this).removeClass("on")}),i.click(function(s){s.preventDefault();var i=$(this).text();o.html(i),n.removeClass("on")});var e=$(".service, .company, .my").find(">a"),a=e.siblings("ul");e.hover(function(){$(this).addClass("on").siblings("ul").addClass("on"),console.log("on")},function(){$(this).removeClass("on").siblings("ul").removeClass("on")}),a.hover(function(){$(this).addClass("on").siblings("a").addClass("on")},function(){$(this).removeClass("on").siblings("a").removeClass("on")}),$(".phone>a").hover(function(){$(this).parent().addClass("on").find(">div").addClass("on")},function(){$(this).parent().removeClass("on").find(">div").removeClass("on")}),$(".phone>div").hover(function(){$(this).addClass("on").parent().addClass("on")},function(){$(this).removeClass("on").parent().removeClass("on")})}(),function(){var s=$(".search .select"),o=$(".search .select>span"),n=$(".search .select ul"),i=n.find("li");s.hover(function(){n.addClass("on")},function(){n.removeClass("on")}),i.hover(function(){$(this).addClass("on")},function(){$(this).removeClass("on")}).click(function(s){s.preventDefault();var i=$(this).text();o.html(i),n.removeClass("on")})}(),$(".section-one-main .books").slider({width:750,height:540,lazyload:!0}),$(".cat, .order").hover(function(){$(this).addClass("on")},function(){$(this).removeClass("on")}),$(".section-one-main .play-pics li").tabshow(".section-one-main .play-pics .pic",{autoplay:!0,interval:3e3}),$(".yushou .sidebar-book").slider({width:238,height:120,lazyload:!0}),$(".section-one-sidebar .sidebar-with-list .nav li").tabshow(".section-one-sidebar .sidebar-with-list .list",{lazyload:!0}),function(){var s=538;$(".guess-foot-sidebar").outerHeight(s),$("#huanyipi").tabshow(".guess-foot-main >div",{lazyload:!0,single:!0})}(),$(".sidebar-with-list .list li").mouseover(function(s){$(this).addClass("on").siblings().removeClass("on")}),$(".dd-tegong-main .head li").tabshow(".dd-tegong-main .books",{lazyload:!0}),$(".dd-tegong .sidebar-with-list .nav li").tabshow(".dd-tegong .sidebar-with-list .list",{lazyload:!0}),$(".zhubian-suggest-main .head li").tabshow(".zhubian-suggest-main .books",{lazyload:!0}),$(".author-main-head li").tabshow(".author-main-body > div"),$(".reader-suggest-main-head li").tabshow(".reader-suggest-main-body > div"),$(".reader-suggest .title-book").initLazy().lazyload({effect:"fadeIn"}),$.each([".haoping",".guanzhu",".shoucang"],function(s,o){$(".reader-suggest-main-body "+o+" .books").slider({width:950,height:289,lazyload:!0})}),$(".space-pics, .space-pic, .parteners, .reader-suggest-sidebar, .author, .vip").initLazy().lazyload({effect:"fadeIn"}),function(){function s(){if(!r.is(":animated")){var i=parseFloat(r.css("top"));0==i&&r.animate({top:-n},"slow"),i==-n&&r.animate({top:0},"slow"),o=setTimeout(s,l)}}var o,n=180,i=1200,e="<div class='jump'><div class='jump-list'></div></div>",a={width:i,height:n,position:"relative",overflow:"hidden"},t=$(".parteners .cats"),l=7e3;t.wrapAll(e);var d=$(".parteners .jump"),r=d.find(".jump-list");d.css(a),r.css({position:"absolute",top:0,left:0}),s(),t.hover(function(){clearTimeout(o)},function(){s()})}(),function(){function s(){i.css("display","none")}function o(){i.css("display","block")}var n=200,i=$(".backtop .back"),e=$(window);s(),e.on("scroll",function(i){var e=$(this).scrollTop();e>=n&&o(),n>e&&s()}),i.click(function(s){s.preventDefault(),e.scrollTop(0)})}()});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIiQiLCJmbGFzaCIsInNyYyIsIndpZHRoIiwiaGVpZ2h0IiwidXBkYXRlIiwiZXhwcmVzc0luc3RhbGwiLCJzdWNjZXNzIiwiaHRtbCIsImRpdiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsImZpbmQiLCJhcHBlbmRUbyIsImNvbnRlbnRzIiwiYm9keSIsIml0ZW1zIiwidGFic2hvdyIsImhvdmVyIiwibGlzdCIsInNob3ciLCJzbGlkZVVwIiwicmVtb3ZlQ2xhc3MiLCJtZW51IiwiaGVhZCIsIm9uZSIsImV2ZW50IiwiYWpheCIsInVybCIsImRhdGFUeXBlIiwiZG9uZSIsImhpZGUiLCJzbGljZSIsInRoaXMiLCJhZGRDbGFzcyIsInNpYmxpbmdzIiwib3V0ZXIiLCJib3giLCJvdXRlclRvcCIsInBvc2l0aW9uIiwidG9wIiwib3V0ZXJIZWlnaHQiLCJib3hIZWlnaHQiLCJkZWx0YVkiLCJ3aW5kb3ciLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJvdXRlckRlbHRhWSIsImRlbHRhSGVpZ2h0IiwiY3NzIiwiaGVhZFNwYW4iLCJjbGljayIsInByZXZlbnREZWZhdWx0IiwidGV4dCIsImhlYWRzIiwibGlzdHMiLCJjb25zb2xlIiwibG9nIiwicGFyZW50Iiwic2VsZWN0Iiwic2xpZGVyIiwibGF6eWxvYWQiLCJhdXRvcGxheSIsImludGVydmFsIiwibWFpbkhlaWdodCIsInNpbmdsZSIsIm1vdXNlb3ZlciIsImluaXRMYXp5IiwiZWZmZWN0IiwiZWFjaCIsImluZGV4IiwidmFsIiwic2Nyb2xsIiwianVtcExpc3QiLCJpcyIsIm9sZFRvcCIsInBhcnNlRmxvYXQiLCJhbmltYXRlIiwidGltZXIiLCJzZXRUaW1lb3V0Iiwib3V0ZXJTdHlsZSIsIm92ZXJmbG93Iiwid3JhcEFsbCIsImp1bXAiLCJsZWZ0IiwiY2xlYXJUaW1lb3V0IiwiaGlkZUJhY2siLCJiYWNrIiwic2hvd0JhY2siLCJoZWlnaHRX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R0FaQTNFLEVBQVMsSUFDVEQsRUFBUSxLQUNSa0MsRUFBUSx3REFDUjRDLEdBQ0k5RSxNQUFPQSxFQUNQQyxPQUFRQSxFQUNSb0MsU0FBVSxXQUNWMEMsU0FBVSxVQUVkakUsRUFBUWpCLEVBQUUsb0JBRVZnRSxFQUFXLEdBRWYvQyxHQUFNa0UsUUFBUTlDLEVBQ2QsSUFBSStDLEdBQU9wRixFQUFFLG9CQUNUMEUsRUFBV1UsRUFBS3ZFLEtBQUssYUFDekJ1RSxHQUFLbEMsSUFBSStCLEdBQ1RQLEVBQVN4QixLQUNMVixTQUFVLFdBQ1ZDLElBQUssRUFDTDRDLEtBQU0sSUFpQlZaLElBQ0F4RCxFQUFNRSxNQUFNLFdBQ1JtRSxhQUFhUCxJQUNkLFdBQ0NOLFNBT1IsV0FPSSxRQUFTYyxLQUNMQyxFQUFLdEMsSUFBSSxVQUFXLFFBR3hCLFFBQVN1QyxLQUNMRCxFQUFLdEMsSUFBSSxVQUFXLFNBVnhCLEdBQUl3QyxHQUFpQixJQUVqQkYsRUFBT3hGLEVBQUUsa0JBQ1QyRixFQUFNM0YsRUFBRTZDLE9BU1owQyxLQUVBSSxFQUFJQyxHQUFHLFNBQVUsU0FBU2pFLEdBQ3RCLEdBQUltQixHQUFZOUMsRUFBRWtDLE1BQU1ZLFdBR3BCQSxJQUFhNEMsR0FBZ0JELElBQ2pCQyxFQUFaNUMsR0FBNEJ5QyxNQUdwQ0MsRUFBS3BDLE1BQU0sU0FBU3pCLEdBRWhCQSxFQUFNMEIsaUJBQ05zQyxFQUFJN0MsVUFBVSIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZnVuY3Rpb24oKSB7XG4gICAgLy8gbGF6eWxvYWRcbiAgICAvLyDmt7vliqBmbGFzaOaSreaUvlxuICAgIChmdW5jdGlvbigpIHtcbiAgICAgICAgJCgnLmJ1c3knKS5mbGFzaCh7XG4gICAgICAgICAgICBzcmM6ICdpbWFnZXMvMTIwMDEwMjAuc3dmJyxcbiAgICAgICAgICAgIHdpZHRoOiA1MixcbiAgICAgICAgICAgIGhlaWdodDogNTIsXG4gICAgICAgICAgICB1cGRhdGU6IGZhbHNlLFxuICAgICAgICAgICAgZXhwcmVzc0luc3RhbGw6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgIH0pKCk7XG5cblxuXG5cblxuXG4gICAgLy8g5YWo6YOo5ZWG5ZOB5YiG57G76I+c5Y2V6byg5qCH5oKs5rWu5qC35byP5Y+Y5YyWXG4gICAgKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbWVudSA9ICQoXCIubWVudVwiKSxcbiAgICAgICAgICAgIGhlYWQgPSBtZW51LmZpbmQoXCIuaGVhZFwiKSxcbiAgICAgICAgICAgIGJvZHkgPSBtZW51LmZpbmQoXCIuYm9keVwiKSxcbiAgICAgICAgICAgIGxpc3QgPSAkKFwiLm1lbnUgLmJvZHkgPiB1bFwiKSxcbiAgICAgICAgICAgIGl0ZW1zID0gbGlzdC5maW5kKFwibGlcIik7XG4gICAgICAgIC8vIOWFqOmDqOWVhuWTgeivpue7huWIhuexu+mHh+eUqGFqYXjmnaHku7bliqDovb0sXG4gICAgICAgIC8vIOWNs+WktOmDqOm8oOagh+aCrOa1ruaXtuaJjeWKoOi9vVxuICAgICAgICBoZWFkLm9uZSgnbW91c2VvdmVyJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwibG9hZGluZ1wiKVxuICAgICAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICAgICAgICAgICAgdXJsOiAnY2F0ZWdvcnkuaHRtbCcsXG4gICAgICAgICAgICAgICAgICAgIC8vIHR5cGU6ICdkZWZhdWx0IEdFVCAoT3RoZXIgdmFsdWVzOiBQT1NUKScsXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnaHRtbCcsXG5cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5kb25lKHN1Y2Nlc3MpO1xuICAgICAgICB9KTtcblxuXG4gICAgICAgIGhlYWQuaG92ZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBsaXN0LnNob3coKTtcbiAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBsaXN0LmhpZGUoKTtcbiAgICAgICAgfSk7XG5cblxuICAgICAgICAvLyBjb25zb2xlLmxvZyhib2R5KVxuICAgICAgICBmdW5jdGlvbiBzdWNjZXNzKGh0bWwpIHtcbiAgICAgICAgICAgIC8vIOi9veWFpeWGheWuuVxuICAgICAgICAgICAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICBkaXYuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICAgICAgICQoZGl2KS5maW5kKFwiLmNvbnRlbnRcIikuYXBwZW5kVG8oJy5tZW51IC5ib2R5Jyk7XG5cbiAgICAgICAgICAgIHZhciBjb250ZW50cyA9IGJvZHkuZmluZChcIi5jb250ZW50XCIpO1xuICAgICAgICAgICAgaXRlbXMudGFic2hvdyhjb250ZW50cyk7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhjb250ZW50cylcblxuICAgICAgICAgICAgLy8g5re75Yqg5LqL5Lu2XG5cbiAgICAgICAgICAgIGJvZHkuaG92ZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgbGlzdC5zaG93KCk7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coMSlcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGxpc3Quc2xpZGVVcCgpO1xuICAgICAgICAgICAgICAgIGNvbnRlbnRzLnJlbW92ZUNsYXNzKCdjdXJyZW50Jyk7XG4gICAgICAgICAgICAgICAgaXRlbXMucmVtb3ZlQ2xhc3MoJ29uJyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG5cbiAgICB9KSgpO1xuXG5cblxuICAgIC8vIOWbvuS5puiPnOWNleagj+ebrum8oOagh+aCrOa1ruaUueWPmOexu1xuICAgICQoXCJkbC5vdXRlclwiKS5zbGljZSgwLCAtMikuaG92ZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgICQodGhpcykuYWRkQ2xhc3MoXCJvblwiKS5zaWJsaW5ncyhcImRpdlwiKS5hZGRDbGFzcyhcImN1cnJlbnRcIik7XG4gICAgICAgIHZhciBtZW51ID0gJChcIi5ib29rLW1lbnUgLmJvZHlcIiksXG4gICAgICAgICAgICBvdXRlciA9ICQodGhpcyksXG4gICAgICAgICAgICBib3ggPSBvdXRlci5zaWJsaW5ncyhcImRpdlwiKSxcbiAgICAgICAgICAgIC8vIOWkluWxguWFg+e0oOi3neeItuWFg+e0oOmhtumDqOeahOi3neemu1xuICAgICAgICAgICAgb3V0ZXJUb3AgPSBvdXRlci5wb3NpdGlvbigpLnRvcCxcbiAgICAgICAgICAgIC8vIOWkluWxguWFg+e0oOmrmOW6plxuICAgICAgICAgICAgb3V0ZXJIZWlnaHQgPSBvdXRlci5vdXRlckhlaWdodCh0cnVlKSxcbiAgICAgICAgICAgIC8vIOWGheWxguWFg+e0oOeahOmrmOW6plxuICAgICAgICAgICAgYm94SGVpZ2h0ID0gYm94Lm91dGVySGVpZ2h0KHRydWUpLFxuICAgICAgICAgICAgLy8g5pW05Liq6I+c5Y2V55Sx5LqO5rua5Yqo6ZqQ6JeP55qE6auY5bqmXG4gICAgICAgICAgICBkZWx0YVkgPSAkKHdpbmRvdykuc2Nyb2xsVG9wKCkgLSBtZW51Lm9mZnNldCgpLnRvcCxcbiAgICAgICAgICAgIC8vIOWkluWxguiiq+makOiXj+eahOmrmOW6plxuICAgICAgICAgICAgb3V0ZXJEZWx0YVkgPSBkZWx0YVkgLSBvdXRlclRvcCxcbiAgICAgICAgICAgIC8vIOWGheWxgumrmOW6puaYr+WQpui2s+S7peaYvuekuizlpJblsYLnm7jlr7nlj6/op4bpobbpg6jpq5jluqYr6Ieq6Lqr6auY5bqmIOS4juebkuWtkOeahOmrmOW6puW3rlxuICAgICAgICAgICAgZGVsdGFIZWlnaHQgPSBvdXRlckhlaWdodCArIG91dGVyVG9wIC0gYm94SGVpZ2h0O1xuICAgICAgICAvLyDlpoLmnpzoj5zljZXpg6jliIbooqvpmpDol4/vvIzlubbkuJRib3jpq5jluqbkuI3lpJ8s6K6h566XdG9w5YC85pe26KaB5YeP5Y676ZqQ6JeP55qE6auY5bqmXG4gICAgICAgIGlmIChkZWx0YVkgPiAwKSB7XG4gICAgICAgICAgICBkZWx0YUhlaWdodCAtPSBkZWx0YVk7XG4gICAgICAgIH1cbiAgICAgICAgLy8g5pyA5ZCO6K6+572u55qEdG9w5YC85b6XXG4gICAgICAgIHZhciB0b3AgPSAtMTtcblxuICAgICAgICAvLyBjb25zb2xlLmxvZyhkZWx0YUhlaWdodCwgZGVsdGFZKTtcblxuICAgICAgICAvLyDlpoLmnpznlLHkuo7mu5rliqjpmpDol49ib3gsIFxuICAgICAgICBpZiAoZGVsdGFZID4gMCkge1xuICAgICAgICAgICAgdG9wID0gZGVsdGFZIC0gMTtcbiAgICAgICAgICAgIC8vIOWmguaenOWkluWxguWFg+e0oOS5n+iiq+makOiXj++8jOWQkeS4iuaPkOWNh+i/meS4qui3neemu1xuICAgICAgICAgICAgaWYgKG91dGVyRGVsdGFZID4gMCkge1xuICAgICAgICAgICAgICAgIHRvcCAtPSBvdXRlckRlbHRhWTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIOWmguaenOWFg+e0oOmrmOW6puS4jeWPilxuICAgICAgICAvLyDliKTmlq3lhoXlsYJESVbnmoTlupXpg6jmmK/lkKbpq5jov4flhoXlsYJkbOeahOW6lemDqFxuICAgICAgICAvLyDlpoLmnpzmmK/vvIzkvb/lhoXlsYJkaXbnmoTlupXpg6jliJrlpb3kuI7lpJblsYLlupXpg6jlr7npvZBcbiAgICAgICAgLy8gaW5uZXJIZWlnaHQgKyB0b3AoPykgPSBvZmZzZXR0b3AgKyBvdXRlckhlaWdodCBcbiAgICAgICAgaWYgKGRlbHRhSGVpZ2h0ID4gMCkge1xuICAgICAgICAgICAgdG9wICs9IGRlbHRhSGVpZ2h0ICsgMTtcbiAgICAgICAgfVxuXG4gICAgICAgIGJveC5jc3MoXCJ0b3BcIiwgdG9wKTtcblxuICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKFwib25cIikuc2libGluZ3MoXCJkaXZcIikucmVtb3ZlQ2xhc3MoXCJjdXJyZW50XCIpO1xuICAgIH0pO1xuXG4gICAgJChcImRsLm91dGVyK2RpdlwiKS5ob3ZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgJCh0aGlzKS5hZGRDbGFzcyhcImN1cnJlbnRcIikuc2libGluZ3MoXCJkbC5vdXRlclwiKS5hZGRDbGFzcyhcIm9uXCIpO1xuICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKFwiY3VycmVudFwiKS5zaWJsaW5ncyhcImRsLm91dGVyXCIpLnJlbW92ZUNsYXNzKFwib25cIik7XG4gICAgfSk7XG5cbiAgICAvLyDpobbpg6jlt6XlhbfmoI/mlLnlj5jmoLflvI9cbiAgICAvLyBhbGVydCgxKTtcbiAgICAoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcmVhID0gJChcIi5hcmVhXCIpLFxuICAgICAgICAgICAgaGVhZCA9ICQoXCIuYXJlYSAuaGVhZFwiKSxcbiAgICAgICAgICAgIGhlYWRTcGFuID0gaGVhZC5maW5kKFwic3BhblwiKSxcbiAgICAgICAgICAgIGJvZHkgPSAkKFwiLmFyZWEgLmJvZHlcIiksXG4gICAgICAgICAgICBpdGVtcyA9IGJvZHkuZmluZChcImFcIik7XG4gICAgICAgIC8vIOmAgei0p+WMuuWfn1xuICAgICAgICBoZWFkLmhvdmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaGVhZC5hZGRDbGFzcygnb24nKTtcbiAgICAgICAgICAgIGJvZHkuYWRkQ2xhc3MoJ29uJylcbiAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBoZWFkLnJlbW92ZUNsYXNzKCdvbicpO1xuICAgICAgICAgICAgYm9keS5yZW1vdmVDbGFzcygnb24nKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGJvZHkuaG92ZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKFwib25cIik7XG4gICAgICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcyhcIm9uXCIpXG4gICAgICAgIH0pO1xuICAgICAgICBpdGVtcy5jbGljayhmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHZhciB0ZXh0ID0gJCh0aGlzKS50ZXh0KCk7XG4gICAgICAgICAgICBoZWFkU3Bhbi5odG1sKHRleHQpO1xuICAgICAgICAgICAgYm9keS5yZW1vdmVDbGFzcygnb24nKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gLy8g5ZCO6Z2i55qE5bel5YW35qCP55uuXG4gICAgICAgIHZhciBoZWFkcyA9ICQoXCIuc2VydmljZSwgLmNvbXBhbnksIC5teVwiKS5maW5kKFwiPmFcIiksXG4gICAgICAgICAgICBsaXN0cyA9IGhlYWRzLnNpYmxpbmdzKCd1bCcpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhoZWFkcylcblxuICAgICAgICBoZWFkcy5ob3ZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoXCJvblwiKS5zaWJsaW5ncygndWwnKS5hZGRDbGFzcyhcIm9uXCIpXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIm9uXCIpXG4gICAgICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcyhcIm9uXCIpLnNpYmxpbmdzKCd1bCcpLnJlbW92ZUNsYXNzKFwib25cIilcbiAgICAgICAgfSk7XG4gICAgICAgIGxpc3RzLmhvdmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcyhcIm9uXCIpLnNpYmxpbmdzKCdhJykuYWRkQ2xhc3MoXCJvblwiKTtcbiAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKFwib25cIikuc2libGluZ3MoJ2EnKS5yZW1vdmVDbGFzcyhcIm9uXCIpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyDmiYvmnLrlvZPlvZNcbiAgICAgICAgJChcIi5waG9uZT5hXCIpLmhvdmVyKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5hZGRDbGFzcyhcIm9uXCIpLmZpbmQoXCI+ZGl2XCIpLmFkZENsYXNzKFwib25cIilcbiAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKHRoaXMpLnBhcmVudCgpLnJlbW92ZUNsYXNzKFwib25cIikuZmluZChcIj5kaXZcIikucmVtb3ZlQ2xhc3MoXCJvblwiKVxuICAgICAgICB9KTtcbiAgICAgICAgJChcIi5waG9uZT5kaXZcIikuaG92ZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKFwib25cIikucGFyZW50KCkuYWRkQ2xhc3MoXCJvblwiKTtcbiAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKFwib25cIikucGFyZW50KCkucmVtb3ZlQ2xhc3MoXCJvblwiKVxuICAgICAgICB9KTtcblxuICAgIH0pKCk7XG5cbiAgICAvLyDmkJzntKLmoYbngrnlh7vmlLnlj5jmoLflvI/lkoxodG1sXG4gICAgKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2VsZWN0ID0gJChcIi5zZWFyY2ggLnNlbGVjdFwiKSxcbiAgICAgICAgICAgIGhlYWQgPSAkKFwiLnNlYXJjaCAuc2VsZWN0PnNwYW5cIiksXG4gICAgICAgICAgICBsaXN0ID0gJChcIi5zZWFyY2ggLnNlbGVjdCB1bFwiKSxcbiAgICAgICAgICAgIGl0ZW1zID0gbGlzdC5maW5kKFwibGlcIik7XG4gICAgICAgIC8vIOaYr+WQpuWHuueOsOWIl+ihqFxuICAgICAgICBzZWxlY3QuaG92ZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBsaXN0LmFkZENsYXNzKFwib25cIilcbiAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBsaXN0LnJlbW92ZUNsYXNzKFwib25cIilcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIOabtOaUueWIl+ihqOmhueebruagt+W8j1xuICAgICAgICBpdGVtcy5ob3ZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdvbicpXG4gICAgICAgICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdvbicpXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNsaWNrKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB2YXIgdGV4dCA9ICQodGhpcykudGV4dCgpO1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRleHQpO1xuICAgICAgICAgICAgICAgIGhlYWQuaHRtbCh0ZXh0KTtcbiAgICAgICAgICAgICAgICBsaXN0LnJlbW92ZUNsYXNzKCdvbicpXG4gICAgICAgICAgICB9KTtcblxuXG4gICAgfSkoKTtcblxuICAgIC8vIOaWsOS5puS4iuaetuaXoOe8nea7muWKqFxuICAgICQoXCIuc2VjdGlvbi1vbmUtbWFpbiAuYm9va3NcIikuc2xpZGVyKHsgd2lkdGg6IDc1MCwgaGVpZ2h0OiA1NDAsIGxhenlsb2FkOiB0cnVlIH0pO1xuXG4gICAgLy8g6LSt54mp6L2m5ZKM6K6i5Y2V6byg5qCH5oKs5rWu5pe25pu05pS557G7LOS7peaUueWPmOagt+W8j1xuICAgICQoXCIuY2F0LCAub3JkZXJcIikuaG92ZXIoZnVuY3Rpb24oKSB7XG4gICAgICAgICQodGhpcykuYWRkQ2xhc3MoXCJvblwiKTtcbiAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcyhcIm9uXCIpO1xuICAgIH0pO1xuICAgIC8vIOacgOS4iuaWueeEpueCueWbvizoh6rliqjmkq3mlL5cbiAgICAkKFwiLnNlY3Rpb24tb25lLW1haW4gLnBsYXktcGljcyBsaVwiKVxuICAgICAgICAudGFic2hvdyhcIi5zZWN0aW9uLW9uZS1tYWluIC5wbGF5LXBpY3MgLnBpY1wiLCB7IGF1dG9wbGF5OiB0cnVlLCBpbnRlcnZhbDogMzAwMCB9KTtcblxuICAgIC8vIOaWsOS5pumihOWUruaXoOe8nea7muWKqFxuICAgICQoXCIueXVzaG91IC5zaWRlYmFyLWJvb2tcIikuc2xpZGVyKHsgd2lkdGg6IDIzOCwgaGVpZ2h0OiAxMjAsIGxhenlsb2FkOiB0cnVlIH0pO1xuXG4gICAgLy8g5paw5Lmm54Ot5Y2W5qac6byg5qCH5oKs5rWuLOaUueWPmOaYvuekuuWGheWuuVxuICAgICQoXCIuc2VjdGlvbi1vbmUtc2lkZWJhciAuc2lkZWJhci13aXRoLWxpc3QgLm5hdiBsaVwiKVxuICAgICAgICAudGFic2hvdyhcIi5zZWN0aW9uLW9uZS1zaWRlYmFyIC5zaWRlYmFyLXdpdGgtbGlzdCAubGlzdFwiLCB7IGxhenlsb2FkOiB0cnVlIH0pO1xuICAgIC8vIOeMnOS9oOWWnOasoiEhISEhISEhISEhISEhISEhISEhIVxuICAgIC8vIDEu5L2/5L6n6L655qCP6auY5bqm5LiO5bGV56S65Yy66auY5bqm5LiA6Ie0XG4gICAgLy8gMi7ngrnlh7tcIuaNouS4gOaJuVwiLOabtOaNouWxleekuuWGheWuuVxuICAgIChmdW5jdGlvbigpIHtcbiAgICAgICAgLy8g5bCG5L6n6L655qCP6auY5bqm6K6+572u5Li65LiO5Li75L2T6YOo5YiG55u45ZCMXG4gICAgICAgIC8vIOS4uuWVpeWtkOavj+asoeiOt+WPlueahOmrmOW6pumDveS4jeS4gOagtyzmmK/lm77niYfliqDovb3msqHlrozmiJAs5LiN6L+H55So5LqGJChkb2N1bWVudCkucmVhZHnllYo/Pz8/Pz8/Pz8/Pz8/Pz9cbiAgICAgICAgdmFyIG1haW5IZWlnaHQgPSA1Mzg7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKG1haW5IZWlnaHQpO1xuICAgICAgICAkKFwiLmd1ZXNzLWZvb3Qtc2lkZWJhclwiKS5vdXRlckhlaWdodChtYWluSGVpZ2h0KTtcbiAgICAgICAgLy8g54K55Ye75o2i5LiA5om55pe2LOaOqeiXj+eahOS4pOmDqOWIhuS6pOaNoi5jdXJyZW5057G75ZCNXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKG1haW5IZWlnaHQpXG4gICAgICAgICQoXCIjaHVhbnlpcGlcIikudGFic2hvdyhcIi5ndWVzcy1mb290LW1haW4gPmRpdlwiLCB7IGxhenlsb2FkOiB0cnVlLCBzaW5nbGU6IHRydWUgfSk7XG5cblxuICAgIH0pKCk7XG4gICAgLy8g5L6n6L655qCPbGnlhYPntKDpvKDmoIfmgqzmta7ml7bmm7TmlLnnsbsub25cbiAgICAkKFwiLnNpZGViYXItd2l0aC1saXN0IC5saXN0IGxpXCIpLm1vdXNlb3ZlcihmdW5jdGlvbihldmVudCkge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcInF3ZFwiKVxuICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdvbicpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ29uJylcbiAgICB9KTtcbiAgICAvLyDlvZPlvZPnibnkvpvpvKDmoIfmgqzmta4s5pS55Y+Y5pi+56S65YaF5a65XG4gICAgJChcIi5kZC10ZWdvbmctbWFpbiAuaGVhZCBsaVwiKVxuICAgICAgICAudGFic2hvdyhcIi5kZC10ZWdvbmctbWFpbiAuYm9va3NcIiwgeyBsYXp5bG9hZDogdHJ1ZSB9KTtcbiAgICAvLyDkvqfovrnmoI9cbiAgICAkKFwiLmRkLXRlZ29uZyAuc2lkZWJhci13aXRoLWxpc3QgLm5hdiBsaVwiKVxuICAgICAgICAudGFic2hvdyhcIi5kZC10ZWdvbmcgLnNpZGViYXItd2l0aC1saXN0IC5saXN0XCIsIHsgbGF6eWxvYWQ6IHRydWUgfSk7XG5cbiAgICAvLyDkuLvnvJbmjqjojZDpvKDmoIfmgqzmta4s5pS55Y+Y5pi+56S65YaF5a65XG4gICAgJChcIi56aHViaWFuLXN1Z2dlc3QtbWFpbiAuaGVhZCBsaVwiKVxuICAgICAgICAudGFic2hvdyhcIi56aHViaWFuLXN1Z2dlc3QtbWFpbiAuYm9va3NcIiwgeyBsYXp5bG9hZDogdHJ1ZSB9KTtcbiAgICAvLyDkvZzogIXmjqjojZDpvKDmoIfmgqzmta4s5pS55Y+Y5pi+56S65YaF5a65XG5cbiAgICAkKFwiLmF1dGhvci1tYWluLWhlYWQgbGlcIilcbiAgICAgICAgLnRhYnNob3coXCIuYXV0aG9yLW1haW4tYm9keSA+IGRpdlwiKTtcblxuXG4gICAgLy8g6K+76ICF5o6o6I2Q5a+86IiqLOm8oOagh+aCrOa1ruaXtuabtOaUueagt+W8j1xuICAgICQoXCIucmVhZGVyLXN1Z2dlc3QtbWFpbi1oZWFkIGxpXCIpXG4gICAgICAgIC50YWJzaG93KFwiLnJlYWRlci1zdWdnZXN0LW1haW4tYm9keSA+IGRpdlwiKTtcbiAgICAkKFwiLnJlYWRlci1zdWdnZXN0IC50aXRsZS1ib29rXCIpLmluaXRMYXp5KCkubGF6eWxvYWQoeyBlZmZlY3Q6IFwiZmFkZUluXCIgfSk7XG4gICAgLy8g6K+76ICF5o6o6I2Q5qCP55uu5Lit55qE5peg57yd5rua5YqoXG4gICAgJC5lYWNoKFtcIi5oYW9waW5nXCIsIFwiLmd1YW56aHVcIiwgXCIuc2hvdWNhbmdcIl0sIGZ1bmN0aW9uKGluZGV4LCB2YWwpIHtcbiAgICAgICAgJChcIi5yZWFkZXItc3VnZ2VzdC1tYWluLWJvZHkgXCIgKyB2YWwgKyBcIiAuYm9va3NcIikuc2xpZGVyKHtcbiAgICAgICAgICAgIHdpZHRoOiA5NTAsXG4gICAgICAgICAgICBoZWlnaHQ6IDI4OSxcbiAgICAgICAgICAgIGxhenlsb2FkOiB0cnVlXG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG5cblxuICAgIC8vIOWFtuS7luW7tui/n+WKoOi9veWbvueJh1xuICAgICQoXCIuc3BhY2UtcGljcywgLnNwYWNlLXBpYywgLnBhcnRlbmVycywgLnJlYWRlci1zdWdnZXN0LXNpZGViYXIsIC5hdXRob3IsIC52aXBcIilcbiAgICAgICAgLmluaXRMYXp5KCkubGF6eWxvYWQoeyBlZmZlY3Q6IFwiZmFkZUluXCIgfSk7XG5cblxuICAgIC8vIOWQiOS9nOS8meS8tOWxleekuuWMuuS4iuS4i+adpeWbnua7muWKqCzov5vooYzliqjnlLvml7bnu53lr7nlrprkvY0s5YeP5bCP5oCn6IO95raI6ICXXG4gICAgKGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyDlj6/op4HlhoXlrrnpq5jluqblkozlrr3luqZcbiAgICAgICAgdmFyIGhlaWdodCA9IDE3OCArIDIsXG4gICAgICAgICAgICB3aWR0aCA9IDEyMDAsXG4gICAgICAgICAgICBvdXRlciA9IFwiPGRpdiBjbGFzcz0nanVtcCc+PGRpdiBjbGFzcz0nanVtcC1saXN0Jz48L2Rpdj48L2Rpdj5cIixcbiAgICAgICAgICAgIG91dGVyU3R5bGUgPSB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gICAgICAgICAgICAgICAgb3ZlcmZsb3c6IFwiaGlkZGVuXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpdGVtcyA9ICQoXCIucGFydGVuZXJzIC5jYXRzXCIpLFxuICAgICAgICAgICAgLy8g5b6q546v6Ze06ZqU5pe26Ze0XG4gICAgICAgICAgICBpbnRlcnZhbCA9IDcwMDAsXG4gICAgICAgICAgICB0aW1lcjtcbiAgICAgICAgaXRlbXMud3JhcEFsbChvdXRlcik7XG4gICAgICAgIHZhciBqdW1wID0gJChcIi5wYXJ0ZW5lcnMgLmp1bXBcIik7XG4gICAgICAgIHZhciBqdW1wTGlzdCA9IGp1bXAuZmluZChcIi5qdW1wLWxpc3RcIik7XG4gICAgICAgIGp1bXAuY3NzKG91dGVyU3R5bGUpO1xuICAgICAgICBqdW1wTGlzdC5jc3Moe1xuICAgICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgICB0b3A6IDAsXG4gICAgICAgICAgICBsZWZ0OiAwXG4gICAgICAgIH0pO1xuICAgICAgICAvLyDliJ3lp4vljJblrozmiJBcbiAgICAgICAgZnVuY3Rpb24gc2Nyb2xsKCkge1xuICAgICAgICAgICAgaWYgKGp1bXBMaXN0LmlzKFwiOmFuaW1hdGVkXCIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG9sZFRvcCA9IHBhcnNlRmxvYXQoanVtcExpc3QuY3NzKFwidG9wXCIpKTtcbiAgICAgICAgICAgIGlmIChvbGRUb3AgPT0gMCkge1xuICAgICAgICAgICAgICAgIGp1bXBMaXN0LmFuaW1hdGUoeyB0b3A6IC1oZWlnaHQgfSwgXCJzbG93XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9sZFRvcCA9PSAtaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAganVtcExpc3QuYW5pbWF0ZSh7IHRvcDogMCB9LCBcInNsb3dcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoc2Nyb2xsLCBpbnRlcnZhbCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8g5b6q546vXG4gICAgICAgIHNjcm9sbCgpO1xuICAgICAgICBpdGVtcy5ob3ZlcihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICAgIH0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2Nyb2xsKCk7XG5cbiAgICAgICAgfSk7XG5cbiAgICB9KSgpO1xuXG4gICAgLy8g6L+U5Zue6aG26YOo5oyJ6ZKu5LiN5pi+56S6LOW9k+mhtemdoua7muWKqOWIsOS4gOWumui3neemu+aXtuaYvuekuizlubbkuJTngrnlh7vlkI7pobXpnaLmu5rliqjkuLowXG4gICAgKGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyDpobXpnaLmu5rliqjlpJrlsJHml7blvIDlp4vmmL7npLrov5Tlm57pobbpg6jmjInpkq5cbiAgICAgICAgdmFyIGhlaWdodFdoZW5TaG93ID0gMjAwLFxuICAgICAgICAgICAgLy8g57yT5a2Y6L+U5Zue6aG26YOo5oyJ6ZKu5ZKMd2luZG935a+56LGhXG4gICAgICAgICAgICBiYWNrID0gJChcIi5iYWNrdG9wIC5iYWNrXCIpLFxuICAgICAgICAgICAgd2luID0gJCh3aW5kb3cpO1xuXG4gICAgICAgIGZ1bmN0aW9uIGhpZGVCYWNrKCkge1xuICAgICAgICAgICAgYmFjay5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gc2hvd0JhY2soKSB7XG4gICAgICAgICAgICBiYWNrLmNzcygnZGlzcGxheScsICdibG9jaycpO1xuICAgICAgICB9XG4gICAgICAgIGhpZGVCYWNrKCk7XG4gICAgICAgIC8vIOW9k+mhtemdoua7muWKqOWIsOS4gOWumuWAvOaXtizmmL7npLrov5Tlm57pobbpg6jmjInpkq4s5aaC5p6c5bCP5LqO5p+Q5YC85pe2LOmakOiXj+aMiemSrlxuICAgICAgICB3aW4ub24oJ3Njcm9sbCcsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgc2Nyb2xsVG9wID0gJCh0aGlzKS5zY3JvbGxUb3AoKTtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHNjcm9sbFRvcCk7XG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhidG4pO1xuICAgICAgICAgICAgaWYgKHNjcm9sbFRvcCA+PSBoZWlnaHRXaGVuU2hvdykgc2hvd0JhY2soKTtcbiAgICAgICAgICAgIGlmIChzY3JvbGxUb3AgPCBoZWlnaHRXaGVuU2hvdykgaGlkZUJhY2soKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIOeCueWHu+aMiemSruaXtizpobXpnaLov5Tlm57pobbpg6gs5rua5Yqo5Li6MFxuICAgICAgICBiYWNrLmNsaWNrKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAvLyDpgb/lhY3kvZzkuLrpk77mjqXnmoTlhYPntKDpu5jorqTooYzkuLpcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB3aW4uc2Nyb2xsVG9wKDApO1xuICAgICAgICB9KTtcblxuICAgIH0pKCk7XG5cblxufSlcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
